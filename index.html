<header>
  <h1>ğŸ´ ãƒŸã‚®ã‚¿ãƒ¯ãƒ³</h1>
</header>

<main>
  <div class="card">
    <p>æ®‹ã‚Šå£æ•°ï¼š<span id="stock">10</span></p>
    <button onclick="draw()">å¼•ã</button>
    <br><br>
    <button onclick="resetOripa()">ãƒªã‚»ãƒƒãƒˆ</button>
    <div class="result" id="result">---</div>
  </div>

  <div class="history">
    <h3>æ’å‡ºå±¥æ­´</h3>
    <ul id="history"></ul>
  </div>
</main>
body {
  font-family: system-ui, sans-serif;
  background: #0f172a;
  color: #e5e7eb;
  margin: 0;
  text-align: center;
}

header {
  padding: 2rem;
  background: linear-gradient(135deg, #7c3aed, #2563eb);
}

main {
  padding: 2rem;
}

.card {
  background: #020617;
  border-radius: 16px;
  padding: 2rem;
  max-width: 420px;
  margin: 2rem auto;
  box-shadow: 0 0 30px rgba(124, 58, 237, 0.4);
}

button {
  font-size: 1.1rem;
  padding: 0.8rem 2rem;
  border-radius: 9999px;
  border: none;
  cursor: pointer;
  background: #7c3aed;
  color: white;
}

button:hover {
  opacity: 0.9;
}

.result {
  font-size: 1.5rem;
  margin-top: 1.5rem;
}

.history {
  margin-top: 2rem;
  font-size: 0.9rem;
  color: #c7d2fe;
}
let stock = 100;

const prizes = [
  { name: "ã‚¦ãƒ‡ãƒ³ã‚¿ãƒ¢ãƒ„ï¼ˆSSRï¼‰", weight: 5 },
  { name: "ã‚½ãƒ«ãƒˆï¼ˆSRï¼‰", weight: 15 },
  { name: "ãŸã‘ã‚‹ï¼ˆRï¼‰", weight: 30 },
  { name: "ãªãŠã²ã‚ï¼ˆNï¼‰", weight: 50 }
];

function drawPrize() {
  const total = prizes.reduce((sum, p) => sum + p.weight, 0);
  let rand = Math.random() * total;

  for (const prize of prizes) {
    if (rand < prize.weight) return prize.name;
    rand -= prize.weight;
  }
}

function draw() {
  if (stock <= 0) {
    alert("å®Œå£²ã—ã¾ã—ãŸï¼");
    return;
  }

  stock--;
  document.getElementById("stock").textContent = stock;

  const result = drawPrize();
  document.getElementById("result").textContent = result;

  const li = document.createElement("li");
  li.textContent = result;
  document.getElementById("history").prepend(li);
}
function resetOripa() {
  stock = 100;
  document.getElementById("stock").textContent = stock;

  document.getElementById("result").textContent = "---";
  document.getElementById("history").innerHTML = "";

  alert("ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ");
}
